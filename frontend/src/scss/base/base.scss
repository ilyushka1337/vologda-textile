@use "sass:math";

$tr-time: 0.4s;

$black: #292A34;
$white: #FCFDFF;
$blue: #3177CE;


@function calcFluid($f-min, $f-max, $v-min: 320px, $v-max: 1279px) {
    $k: math.div($f-max - $f-min, $v-max - $v-min);
    $b: $f-min - $k * $v-min;

    $b: $b * 1px;

    @return calc(#{$k} * 100vw + #{$b});
}

// Работает на ПК как обычный hover, а на мобилке как active и анимация не зависает, как будто она в hover
@mixin hover {
    cursor: pointer;
    -webkit-tap-highlight-color: transparent; // убирает стандартное подсвечивание элемента при касании на устройствах iOS
    touch-action: manipulation; // позволяет браузеру оптимизировать обработку событий касания, например, предотвращая двойной тап для зума

    @media (hover: hover) {
        &:hover {
            @content;
        }
    }

    @media (hover: none),
    (hover: on-demand) {

        // применяются на устройствах, не поддерживающих наведение или поддерживающих его по запросу, что характерно для тачскринов
        &:active {
            @content;
        }
    }
}

@function clampFluid($clamp-min, $clamp-max: 'None', $calc-1: 'None', $calc-2: 'None', $w-min: 'None', $w-max: 'None') {
    @if $clamp-max =='None' {
        $clamp-max: $clamp-min;
        $clamp-min: $clamp-max * math.div(2, 3);
    }


    $clamp-min-rend: 'None';
    $clamp-max-rend: 'None';
    $w: math.div($clamp-max, 1920) * 100 * 1vw;

    @if $clamp-max < $clamp-min {
        $clamp-min-rend: $clamp-max * 1px;
        $clamp-max-rend: $clamp-min * 1px;
    }

    @else {
        $clamp-max-rend: $clamp-max * 1px;
        $clamp-min-rend: $clamp-min * 1px;
    }

    @if $calc-1 =='None' {
        @return clamp($clamp-min-rend, $w, $clamp-max-rend);
    }

    @if $w-min =='None' {
        $k: math.div(($clamp-max - $clamp-min), ($calc-2 - $calc-1));
        $b: $clamp-min - $k * $calc-1;
        $b: $b * 1px;
        @return clamp($clamp-min-rend, calc(#{$k} * 100vw + #{$b}), $clamp-max-rend);
    }

    @if $w-max !='None' {
        $k: math.div(($calc-2 - $calc-1), ($w-max - $w-min));
        $b: $calc-1 - $k * $w-min;
        $b: $b * 1px;
        @return clamp($clamp-min-rend, calc(#{$k} * 100vw + #{$b}), $clamp-max-rend);
    }
}

@mixin h1 {
    font-size: clampFluid(120);
    font-weight: 500;
    line-height: .9;
}

@mixin h2 {
    font-size: clampFluid(65);
    font-weight: 500;
    line-height: 1;
}

@mixin h3 {
    font-size: clampFluid(32);
    font-weight: 500;
    line-height: 1;
}

@mixin p1 {
    font-size: clampFluid(24);
    font-weight: 500;
    line-height: 1.3;
}

@mixin p2 {
    font-size: clampFluid(20);
    font-weight: normal;
    line-height: 1.3;
}

@mixin p2-bold {
    font-size: clampFluid(20);
    font-weight: 700;
    line-height: 1.3;
}

@mixin p3 {
    font-size: clampFluid(16);
    font-weight: normal;
    line-height: 1.2;
}